<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>W5D1-2. fl15-2. Local Storage</title>
    <link rel="stylesheet" href="/3JS/CSS/style_stnd_v3.css">
</head>


<body>
    <header>
        <h1>Lecture W5D1-2</h1>
        <h2>2020.10.19</h2>
        <h2>// DOM Objects </h2>
        <p><a target="_blank" href="https://denis-dizi.github.io/RCS2020/3JS/W4D/fl15-2.html" title="GitHub">Link</a> to
            this page at GitHub</p>
    </header>
    
    <main>
        <h3>Open Console by F12 key.</h3>
        <!-- <h4></h4> -->
        <p>Materials:
        <ul>
            <li><a href="https://github.com/epuce/web-bootcamp" target="_blank"
                    rel="noopener noreferrer">https://github.com/epuce/web-bootcamp</a></li>
            <li><a href="https://github.com/epuce/web-bootcamp/blob/master/W03L03%20-%20JavaScript%20DOM%20events%20&%20handling.md"
                    target="_blank" rel="noopener noreferrer">https://github.com/epuce/web-bootcamp/.../DOM</a></li>
            <!-- <li><a href="http://" target="_blank" rel="noopener noreferrer"></a></li> -->
            <!-- <li><a href="http://" target="_blank" rel="noopener noreferrer"></a></li> -->
        </ul>
        </p>

        <!-- <p>Topic:
            <ul>
                <li>JavaScript data types</li>
                <ol>
                    <li>String</li>
                    <li>Number</li>
                    <li>NaN - Not a Number</li>
                    <ul>
                        <li>Convert String to Number</li>
                    </ul>
                    <li>Array</li>
                    <ul>
                        <li>.arr.lenght</li>
                        <li>get arrays n-th element by index</li>
                        <li>get arrays last element by index</li>
                        <li>get arrays n-th element from nultyarray</li>
                        <li>arr.indexOf();</li>
                    </ul>
                    <li>Object</li>
                    <ul>
                        <li>get objects n-th element by key</li>
                        <li>object example: user{};</li>
                        <li>concatenate</li>
                    </ul>
                </ol>
            </ul>
        </p> -->
        <br>
        <!-- <label for="name">Name: </label>
            <input id = "name"> -->

        <!-- <label for = "checkbox" id = "checkbox"></label> -->
        <label>
            Name2:

            <input class="name">
        </label>
        <button id="saveName">Save name to local storage</button>

        <table class="userTable">

        </table>
    </main>

</body>
<footer>
    <p>Use validator to check the code: <a target="_blank" href="https://validator.w3.org"> validator.w3.org
        </a>
    </p>
</footer>

<!-- <script src="js/script15-2.js"></script> -->
<script>
    document.getElementById("saveName").addEventListener("click", function () {
        const nameInput = document.getElementsByClassName('name')[0];
        // console.log('click');
        // console.log(nameInput);
        console.log(nameInput.value);

        let users = localStorage.users;

        if (users) {
            users = users.split(",");
            users.push(nameInput.value);

        } else {
            console.log("no users");
            users = [];
            users.push(nameInput.value);
            console.log(users);
        }

        localStorage.users = users.toString();
        renderTable();
    });

    function renderTable() {

        table = document.getElementsByClassName("userTable")[0];
        table.innerHTML = '';

        const usersArray = localStorage.users.split(",");

        usersArray.forEach(function (name) {
            table.innerHTML += '<tr><td>' + name + '</td></tr>';
        })
    }
    renderTable();

    // const usersArray = localStorage.users.split(",");
    // usersArray.forEach(function(name) {
    //     table = document.getElementsByClassName("userTable")[0];

    //     console.log(table);
    //     table.innerHtml += '<tr><td>'+ name +'</td></tr>';
    // });
</script>

</html>